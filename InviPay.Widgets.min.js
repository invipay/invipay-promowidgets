/*
*	InviPay.Widgets
*
*	@version: 1.0.1
*	@build: 2016-02-07
*	@copyright (C) 2015-2016 OSL-3.0
*	@author Kuba Pilecki (kpilecki@invipay.com)
*/

var InviPay=InviPay||{};InviPay.Widgets={},InviPay.Widgets.BaseWidget=function(a){var b="",c=document.body,d=null,e="inline",f=this;includeStyle=function(a){var b='<style type="text/css">'+a+"</style>";document.head.appendChild(stringToDom(b))},relativePathToUrl=function(a){return b+a},stringToDom=function(a){var b=document.createElement("div");return b.innerHTML=a,b.firstChild},setWidgetDomNode=function(a,b){null!==a&&(f.destroy(),d="string"==typeof a||a instanceof String?stringToDom(a):a,c.appendChild(d),myDomDefaultDisplayStyle=d.style.display)},getWidgetDomNode=function(){return d},setWidgetContainer=function(a){c=a},getWidgetContainer=function(){return c},getWidgetDomNodeDefaultStyle=function(){return e},formatDate=function(a,b){var c=a.getDate(),d=a.getMonth()+1,e=a.getFullYear();return b=replaceAll(b,"D",c),b=replaceAll(b,"d",padString(c,"00")),b=replaceAll(b,"M",d),b=replaceAll(b,"m",padString(d,"00")),b=replaceAll(b,"Y",e),b=replaceAll(b,"y",e)},formatString=function(a,b){for(var c=0;c<b.length;c++)a=replaceAll(a,"{"+c+"}",b[c]);return a},replaceAll=function(a,b,c){b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var d=new RegExp(b,"g");return a.replace(d,c)},padString=function(a,b){return a+="",b.substring(0,b.length-a.length)+a},daysToSeconds=function(a){return 24*a*60*60*1e3},a&&setWidgetContainer(a)},InviPay.Widgets.BaseWidget.prototype.destroy=function(){null!==getWidgetDomNode()&&(getWidgetContainer().removeChild(getWidgetDomNode()),setWidgetDomNode(null))},InviPay.Widgets.BaseWidget.prototype.show=function(){null!==getWidgetDomNode()&&(getWidgetDomNode().style.display=getWidgetDomNodeDefaultStyle())},InviPay.Widgets.BaseWidget.prototype.hide=function(){null!==getWidgetDomNode()&&(getWidgetDomNode().style.display="none")},InviPay.Widgets.initializeAllWidgets=function(a){for(var b=a.querySelectorAll("*[data-invipay-widget]"),c=0;c<b.length;c++)InviPay.Widgets.initializeWidget(b[c])},InviPay.Widgets.initializeWidget=function(a){var b=a.getAttribute("data-invipay-widget");b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=a.attributes,d={},e="data-",f=0;f<c.length;f++){var g=c[f],h=g.name,i=g.value;if(h.slice(0,e.length)==e){var j=h.slice(e.length);d[j]=i}}var k=new InviPay.Widgets[b](d,a);return k},function(a,b){a.addEventListener("load",function(){InviPay.Widgets.initializeAllWidgets(b.body)})}(window,document),InviPay.Widgets.BasketInfo=function(a,b){InviPay.Widgets.BaseWidget.call(this,b);var c="<p>Wybierz zakup na fakturę z <strong>inviPay.com</strong> i zapłać dopiero <span>{0}</span>!</p>",d=7,e=14,f="d-m-y";a&&(a["duedate-days"]&&(e=parseInt(a["duedate-days"])),a.format&&(f=a.format));var g=new Date((new Date).getTime()+daysToSeconds(e+d)),h=formatDate(g,f),i=formatString(c,[h]);setWidgetDomNode(i)},InviPay.Widgets.BasketInfo.prototype=Object.create(InviPay.Widgets.BaseWidget.prototype),InviPay.Widgets.BasketInfo.prototype.constructor=InviPay.Widgets.BasketInfo,InviPay.Widgets.FloatingPanel=function(a,b){InviPay.Widgets.BaseWidget.call(this,b),includeStyle('@font-face {\n  font-family: "Open Sans Condensed";\n  font-style: normal;\n  font-weight: 300;\n  src: local("Open Sans Cond Light"), local("OpenSans-CondensedLight"), url("//invipay.com/promo/fonts/opensans-condensed-light.woff") format("woff");\n}\n@font-face {\n  font-family: "Open Sans Condensed";\n  font-style: normal;\n  font-weight: 700;\n  src: local("Open Sans Condensed Bold"), local("OpenSans-CondensedBold"), url("//invipay.com/promo/fonts/opensans-condensed-bold.woff") format("woff");\n}\n\n @font-face{\n 	font-family: "FontAwesomeInvipay";\n 	font-style: normal;\n 	font-weight: normal;\n 	src: url("//invipay.com/promo/fonts/FontAwesome-webfont.woff") format("woff");\n }\n\n.invipay-w-fp, .invipay-w-fp * {\n	box-sizing: content-box !important;\n}\n\n.invipay-w-fp, .invipay-w-fp div, .invipay-w-fp ul, .invipay-w-fp li, .invipay-w-fp p {\n	margin: 0px !important;\n	padding: 0px !important;\n	border: none !important;\n	line-height: 14px !important;\n}\n\n.invipay-w-fp {\n	font-family: "Open Sans Condensed" !important;\n	background-color: transparent !important;\n	display: block !important;\n	position: fixed !important;\n	right: 0px !important;\n	top: 50% !important; \n	margin-top: -220px !important;\n	width: 58px !important;\n	height: 370px !important;\n	overflow: hidden !important;\n	z-index: 16777271 !important;\n	transition: width 250ms linear 0s !important;\n}\n\n.invipay-w-fp:hover, .invipay-w-fp:active {\n	width: 193px !important;\n}\n\n.invipay-w-fp, .invipay-w-fp * {\n	cursor: default !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-handle {\n	-webkit-transform: rotate(-90deg) !important;\n	-webkit-transform-origin: top left !important;\n	-moz-transform: rotate(-90deg) !important;\n	-moz-transform-origin: top left !important;\n	-ms-transform: rotate(-90deg) !important;\n	-ms-transform-origin: top left !important;\n	-o-transform: rotate(-90deg) !important;\n	-o-transform-origin: top left !important;\n	transform: rotate(-90deg) !important;\n	transform-origin: top left !important;\n	display: block !important;\n	position: absolute !important;\n	left: 0px !important;\n	top: 230px !important;\n	width: 230px !important;\n	height: 38px !important;\n	font-weight: bold !important;\n	background-color: #00B2DD !important;\n	border-radius: 15px !important;\n	text-transform: uppercase !important;\n	color: #FFFFFF !important;\n	text-align: center !important;\n	font-size: 12px !important;\n	padding: 4px 0px 4px 0px !important;\n	z-index: 2 !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-handle > span {\n	display: block !important;\n	left: 105px !important;\n	top: 38px !important;\n	position: absolute !important;\n	font-family: "FontAwesomeInvipay" !important;\n	font-size: 12px !important;\n	line-height: 19px !important;\n	background-color: #A7C120 !important;\n	width: 18px !important;\n	height: 18px !important;\n	border-radius: 100px !important;\n	transition: transform 500ms linear 0s !important;\n}\n\n.invipay-w-fp:hover > .invipay-w-fp-handle > span, .invipay-w-fp:active > .invipay-w-fp-handle > span {\n	-webkit-transform: rotate(-180deg) !important;\n	-moz-transform: rotate(-180deg) !important;\n	-ms-transform: rotate(-180deg) !important;\n	-o-transform: rotate(-180deg) !important;\n	transform: rotate(-180deg) !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content {\n	display: block !important;\n	position: absolute !important;\n	left: 58px !important;\n	top: 0px !important;\n	height: 370px !important;\n	width: 157px !important;\n	background-color: #006BB2 !important;\n	border-radius: 15px !important;\n	border-top-left-radius: 15px !important;\n	color: #FFFFFF !important;\n	font-weight: bold !important;\n	text-align: center !important;\n	overflow: hidden !important;\n	transition: left 250ms linear 0s, border-top-left-radius 250ms linear 0s !important;\n}\n\n.invipay-w-fp:hover > .invipay-w-fp-content, .invipay-w-fp:active > .invipay-w-fp-content {\n	left: 35px !important;\n	border-top-left-radius: 0px !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content > div {\n	background-color: #A7C120 !important;\n	height: 40px !important;\n	border-top-right-radius: 15px !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content > div > a {\n	border: none !important;\n	cursor: pointer !important;\n	outline: 0 !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content > div > a > img {\n	width: 90px !important;\n	margin-left: 10px !important;\n	margin-top: 15px !important;\n	display: inline !important;\n	cursor: pointer !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content > p {\n	padding-top: 13px !important;\n	padding-bottom: 0px !important;\n	margin: 0px !important;\n	margin-left: 10px !important;\n	font-size: 12px !important;\n	width: 147px !important;\n	text-transform: uppercase !important;\n	white-space: nowrap !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content > ul  {\n	list-style-type: none !important;\n	margin: 0px !important;\n	margin-left: 10px !important;\n	width: 147px !important;\n	padding: 0px !important;\n	font-size: 11px !important;\n	text-transform: lowercase !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content > ul > li {\n	margin: 0px !important;\n	padding: 0px !important;\n	margin-top: 12px !important;\n	white-space: nowrap !important;\n	font-size: 11px !important;\n	text-transform: lowercase !important;\n}\n\n.invipay-w-fp > .invipay-w-fp-content > ul > li > span {\n	display: block !important;\n	margin-bottom: 8px !important;\n	margin-left: 62px !important;\n	background-color: #A7C120 !important;\n	width: 24px !important;\n	height: 24px !important;\n	border-radius: 100px !important;\n	font-family: "FontAwesomeInvipay" !important;\n	font-size: 15px !important;\n	line-height: 24px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left {\n	left: 0px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left > .invipay-w-fp-handle {\n	-webkit-transform: rotate(90deg) !important;\n	-webkit-transform-origin: bottom right !important;\n	-moz-transform: rotate(90deg) !important;\n	-moz-transform-origin: bottom right !important;\n	-ms-transform: rotate(90deg) !important;\n	-ms-transform-origin: bottom right !important;\n	-o-transform: rotate(90deg) !important;\n	-o-transform-origin: bottom right !important;\n	transform: rotate(90deg) !important;\n	transform-origin: bottom right !important;\n	left: auto !important;\n	right: 46px !important;\n	top: 184px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left:hover > .invipay-w-fp-handle, .invipay-w-fp.invipay-w-fp-left:active > .invipay-w-fp-handle {\n	left: auto !important;\n	right: 46px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left:hover > .invipay-w-fp-handle > span, .invipay-w-fp.invipay-w-fp-left:active > .invipay-w-fp-handle > span {\n	-webkit-transform: rotate(180deg) !important;\n	-moz-transform: rotate(180deg) !important;\n	-ms-transform: rotate(180deg) !important;\n	-o-transform: rotate(180deg) !important;\n	transform: rotate(180deg) !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left > .invipay-w-fp-content {\n	left: -157px !important;\n	border-top-left-radius: 15px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left:hover > .invipay-w-fp-content, .invipay-w-fp.invipay-w-fp-left:active > .invipay-w-fp-content {\n	left: 0px !important;\n	border-top-right-radius: 0px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left > .invipay-w-fp-content > div {\n	border-top-right-radius: 0px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left > .invipay-w-fp-content > div > a > img {\n	margin-left: 0px !important;\n	margin-right: 10px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left > .invipay-w-fp-content > p {\n	margin-right: 10px !important;\n	margin-left: 0px !important;\n}\n\n.invipay-w-fp.invipay-w-fp-left > .invipay-w-fp-content > ul {\n	margin-right: 10px !important;\n	margin-left: 0px !important;\n}');var c=7,d=14,e="200.00";a&&(a["duedate-days"]&&(d=parseInt(a["duedate-days"])),a["minimum-value"]&&(e=parseInt(a["minimum-value"])));var f='<div class="invipay-w-fp">\n	<div class="invipay-w-fp-handle">\n		U nas zapłacisz<br> za zakupy firmowe po @DAYS dniach\n		<span>&#xf063;</span>\n	</div>\n	<div class="invipay-w-fp-content">\n		<div><a href="http://www.invipay.com" target="_blank"><img src="//invipay.com/promo/images/logo.png" alt="inviPay.com"></a></div>\n		<p>Kup dzisiaj i zapłać<br>za swoje zakupy firmowe<br>po @DAYS dniach</p>\n		<ul>\n			<li class="invipay-w-fp-e1"><span>&#xf291;</span>Skompletuj swój koszyk<br> (min. @MINIMUM_VALUE zł)</li>\n			<li class="invipay-w-fp-e2"><span>&#xf00c;</span>Wybierz metodę<br>płatności inviPay<br>i potwierdź zakupy</li>\n			<li class="invipay-w-fp-e3"><span>&#xf0d6;</span>Odbierz zakupy i zapłać za nie<br>w terminie płatności faktury,<br>którą od nas otrzymasz</li>\n		</ul>\n	</div>\n</div>';f=replaceAll(f,"@DAYS",d+c),f=replaceAll(f,"@MINIMUM_VALUE",e),setWidgetDomNode(f),a&&(a.position&&"left"===a.position&&(getWidgetDomNode().className+="  invipay-w-fp-left"),a.style&&"auto"!==a.style&&(getWidgetDomNode().style.cssText=a.style))},InviPay.Widgets.FloatingPanel.prototype=Object.create(InviPay.Widgets.BaseWidget.prototype),InviPay.Widgets.FloatingPanel.prototype.constructor=InviPay.Widgets.FloatingPanel;
//# sourceMappingURL=../../InviPay.Widgets.min.map